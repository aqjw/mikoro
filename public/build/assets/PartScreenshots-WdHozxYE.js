import{E as fe,r as s,a1 as O,a2 as _,y as Ie,z as Ve,a3 as Be,n as L,j as ae,a4 as Ce,M as w,a5 as h,F as W,a as ie,o as y,g as D,w as M,b as R,u as N,q as oe,c as H,k as re,p as Re,d as le,t as Pe,v as $e}from"./app-Ys3vaVSC.js";/**
 * Vue 3 Carousel 0.3.4
 * (c) 2024
 * @license MIT
 */const f={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},Me={itemsToShow:{default:f.itemsToShow,type:Number},itemsToScroll:{default:f.itemsToScroll,type:Number},wrapAround:{default:f.wrapAround,type:Boolean},throttle:{default:f.throttle,type:Number},snapAlign:{default:f.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:f.transition,type:Number},breakpoints:{default:f.breakpoints,type:Object},autoplay:{default:f.autoplay,type:Number},pauseAutoplayOnHover:{default:f.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:f.mouseDrag,type:Boolean},touchDrag:{default:f.touchDrag,type:Boolean},dir:{default:f.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:f.i18n,type:Object},settings:{default(){return{}},type:Object}};function Xe({config:e,slidesCount:n}){const{snapAlign:t,wrapAround:o,itemsToShow:r=1}=e;if(o)return Math.max(n-1,0);let i;switch(t){case"start":i=n-r;break;case"end":i=n-1;break;case"center":case"center-odd":i=n-Math.ceil((r-.5)/2);break;case"center-even":i=n-Math.ceil(r/2);break;default:i=0;break}return Math.max(i,0)}function ze({config:e,slidesCount:n}){const{wrapAround:t,snapAlign:o,itemsToShow:r=1}=e;let i=0;if(t||r>n)return i;switch(o){case"start":i=0;break;case"end":i=r-1;break;case"center":case"center-odd":i=Math.floor((r-1)/2);break;case"center-even":i=Math.floor((r-2)/2);break;default:i=0;break}return i}function se({val:e,max:n,min:t}){return n<t?e:Math.min(Math.max(e,t),n)}function Ue({config:e,currentSlide:n,slidesCount:t}){const{snapAlign:o,wrapAround:r,itemsToShow:i=1}=e;let u=n;switch(o){case"center":case"center-odd":u-=(i-1)/2;break;case"center-even":u-=(i-2)/2;break;case"end":u-=i-1;break}return r?u:se({val:u,max:t-i,min:0})}function Ne(e){return e?e.reduce((n,t)=>{var o;return t.type===W?[...n,...Ne(t.children)]:((o=t.type)===null||o===void 0?void 0:o.name)==="CarouselSlide"?[...n,t]:n},[]):[]}function ue({val:e,max:n,min:t=0}){return e>n?ue({val:e-(n+1),max:n,min:t}):e<t?ue({val:e+(n+1),max:n,min:t}):e}function Ye(e,n){let t;return n?function(...o){const r=this;t||(e.apply(r,o),t=!0,setTimeout(()=>t=!1,n))}:e}function Ge(e,n){let t;return function(...o){t&&clearTimeout(t),t=setTimeout(()=>{e(...o),t=null},n)}}function He(e="",n={}){return Object.entries(n).reduce((t,[o,r])=>t.replace(`{${o}}`,String(r)),e)}var We=fe({name:"ARIA",setup(){const e=h("config",O(Object.assign({},f))),n=h("currentSlide",s(0)),t=h("slidesCount",s(0));return()=>w("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},He(e.i18n.itemXofY,{currentSlide:n.value+1,slidesCount:t.value}))}}),Oe=fe({name:"Carousel",props:Me,setup(e,{slots:n,emit:t,expose:o}){var r;const i=s(null),u=s([]),m=s(0),d=s(0),l=O(Object.assign({},f));let p=Object.assign({},f),b;const c=s((r=e.modelValue)!==null&&r!==void 0?r:0),j=s(0),P=s(0),k=s(0),I=s(0);let E,q;_("config",l),_("slidesCount",d),_("currentSlide",c),_("maxSlide",k),_("minSlide",I),_("slideWidth",m);function F(){b=Object.assign({},e.breakpoints),p=Object.assign(Object.assign(Object.assign({},p),e),{i18n:Object.assign(Object.assign({},p.i18n),e.i18n),breakpoints:void 0}),me(p)}function $(){if(!b||!Object.keys(b).length)return;const a=Object.keys(b).map(v=>Number(v)).sort((v,x)=>+x-+v);let g=Object.assign({},p);a.some(v=>{const x=window.matchMedia(`(min-width: ${v}px)`).matches;return x&&(g=Object.assign(Object.assign({},g),b[v])),x}),me(g)}function me(a){Object.entries(a).forEach(([g,v])=>l[g]=v)}const ge=Ge(()=>{$(),X(),V()},16);function V(){if(!i.value)return;const a=i.value.getBoundingClientRect();m.value=a.width/l.itemsToShow}function X(){d.value<=0||(P.value=Math.ceil((d.value-1)/2),k.value=Xe({config:l,slidesCount:d.value}),I.value=ze({config:l,slidesCount:d.value}),l.wrapAround||(c.value=se({val:c.value,max:k.value,min:I.value})))}Ie(()=>{Ve(()=>V()),setTimeout(()=>V(),1e3),$(),Se(),window.addEventListener("resize",ge,{passive:!0}),t("init")}),Be(()=>{q&&clearTimeout(q),E&&clearInterval(E),window.removeEventListener("resize",ge,{passive:!0})});let S=!1;const z={x:0,y:0},U={x:0,y:0},A=O({x:0,y:0}),Y=s(!1),J=s(!1),Ee=()=>{Y.value=!0},Le=()=>{Y.value=!1};function pe(a){["INPUT","TEXTAREA","SELECT"].includes(a.target.tagName)||(S=a.type==="touchstart",S||a.preventDefault(),!(!S&&a.button!==0||T.value)&&(z.x=S?a.touches[0].clientX:a.clientX,z.y=S?a.touches[0].clientY:a.clientY,document.addEventListener(S?"touchmove":"mousemove",he,!0),document.addEventListener(S?"touchend":"mouseup",we,!0)))}const he=Ye(a=>{J.value=!0,U.x=S?a.touches[0].clientX:a.clientX,U.y=S?a.touches[0].clientY:a.clientY;const g=U.x-z.x,v=U.y-z.y;A.y=v,A.x=g},l.throttle);function we(){const a=l.dir==="rtl"?-1:1,g=Math.sign(A.x)*.4,v=Math.round(A.x/m.value+g)*a;if(v&&!S){const x=Te=>{window.removeEventListener("click",x,!0)};window.addEventListener("click",x,!0)}C(c.value-v),A.x=0,A.y=0,J.value=!1,document.removeEventListener(S?"touchmove":"mousemove",he,!0),document.removeEventListener(S?"touchend":"mouseup",we,!0)}function Se(){!l.autoplay||l.autoplay<=0||(E=setInterval(()=>{l.pauseAutoplayOnHover&&Y.value||G()},l.autoplay))}function be(){E&&(clearInterval(E),E=null),Se()}const T=s(!1);function C(a){const g=l.wrapAround?a:se({val:a,max:k.value,min:I.value});c.value===g||T.value||(t("slide-start",{slidingToIndex:a,currentSlideIndex:c.value,prevSlideIndex:j.value,slidesCount:d.value}),T.value=!0,j.value=c.value,c.value=g,q=setTimeout(()=>{if(l.wrapAround){const v=ue({val:g,max:k.value,min:0});v!==c.value&&(c.value=v,t("loop",{currentSlideIndex:c.value,slidingToIndex:a}))}t("update:modelValue",c.value),t("slide-end",{currentSlideIndex:c.value,prevSlideIndex:j.value,slidesCount:d.value}),T.value=!1,be()},l.transition))}function G(){C(c.value+l.itemsToScroll)}function K(){C(c.value-l.itemsToScroll)}const ye={slideTo:C,next:G,prev:K};_("nav",ye),_("isSliding",T);const xe=L(()=>Ue({config:l,currentSlide:c.value,slidesCount:d.value}));_("slidesToScroll",xe);const De=L(()=>{const a=l.dir==="rtl"?-1:1,g=xe.value*m.value*a;return{transform:`translateX(${A.x-g}px)`,transition:`${T.value?l.transition:0}ms`,margin:l.wrapAround?`0 -${d.value*m.value}px`:"",width:"100%"}});function _e(){F(),$(),X(),V(),be()}Object.keys(Me).forEach(a=>{["modelValue"].includes(a)||ae(()=>e[a],_e)}),ae(()=>e.modelValue,a=>{a!==c.value&&C(Number(a))}),ae(d,X),t("before-init"),F();const ke={config:l,slidesCount:d,slideWidth:m,next:G,prev:K,slideTo:C,currentSlide:c,maxSlide:k,minSlide:I,middleSlide:P};o({updateBreakpointsConfigs:$,updateSlidesData:X,updateSlideWidth:V,initDefaultConfigs:F,restartCarousel:_e,slideTo:C,next:G,prev:K,nav:ye,data:ke});const Q=n.default||n.slides,Z=n.addons,Ae=O(ke);return()=>{const a=Ne(Q==null?void 0:Q(Ae)),g=(Z==null?void 0:Z(Ae))||[];a.forEach((ee,te)=>ee.props.index=te);let v=a;if(l.wrapAround){const ee=a.map((ne,B)=>Ce(ne,{index:-a.length+B,isClone:!0,key:`clone-before-${B}`})),te=a.map((ne,B)=>Ce(ne,{index:a.length+B,isClone:!0,key:`clone-after-${B}`}));v=[...ee,...a,...te]}u.value=a,d.value=Math.max(a.length,1);const x=w("ol",{class:"carousel__track",style:De.value,onMousedownCapture:l.mouseDrag?pe:null,onTouchstartPassiveCapture:l.touchDrag?pe:null},v),Te=w("div",{class:"carousel__viewport"},x);return w("section",{ref:i,class:{carousel:!0,"is-sliding":T.value,"is-dragging":J.value,"is-hover":Y.value,"carousel--rtl":l.dir==="rtl"},dir:l.dir,"aria-label":l.i18n.ariaGallery,tabindex:"0",onMouseenter:Ee,onMouseleave:Le},[Te,g,w(We)])}}}),ce;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(ce||(ce={}));const qe={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};function Fe(e){return e in ce}const de=e=>{const n=h("config",O(Object.assign({},f))),t=String(e.name),o=`icon${t.charAt(0).toUpperCase()+t.slice(1)}`;if(!t||typeof t!="string"||!Fe(t))return;const r=qe[t],i=w("path",{d:r}),u=n.i18n[o]||e.title||t,m=w("title",u);return w("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":u},[m,i])};de.props={name:String,title:String};const je=(e,{slots:n,attrs:t})=>{const{next:o,prev:r}=n||{},i=h("config",O(Object.assign({},f))),u=h("maxSlide",s(1)),m=h("minSlide",s(1)),d=h("currentSlide",s(1)),l=h("nav",{}),{dir:p,wrapAround:b,i18n:c}=i,j=p==="rtl",P=w("button",{type:"button",class:["carousel__prev",!b&&d.value<=m.value&&"carousel__prev--disabled",t==null?void 0:t.class],"aria-label":c.ariaPreviousSlide,onClick:l.prev},(r==null?void 0:r())||w(de,{name:j?"arrowRight":"arrowLeft"})),k=w("button",{type:"button",class:["carousel__next",!b&&d.value>=u.value&&"carousel__next--disabled",t==null?void 0:t.class],"aria-label":c.ariaNextSlide,onClick:l.next},(o==null?void 0:o())||w(de,{name:j?"arrowLeft":"arrowRight"}));return[P,k]};var ve=fe({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:n}){const t=h("config",O(Object.assign({},f))),o=h("currentSlide",s(0)),r=h("slidesToScroll",s(0)),i=h("isSliding",s(!1)),u=L(()=>e.index===o.value),m=L(()=>e.index===o.value-1),d=L(()=>e.index===o.value+1),l=L(()=>{const p=Math.floor(r.value),b=Math.ceil(r.value+t.itemsToShow-1);return e.index>=p&&e.index<=b});return()=>{var p;return w("li",{style:{width:`${100/t.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":l.value,"carousel__slide--active":u.value,"carousel__slide--prev":m.value,"carousel__slide--next":d.value,"carousel__slide--sliding":i.value},"aria-hidden":!l.value},(p=n.default)===null||p===void 0?void 0:p.call(n,{isActive:u.value,isClone:e.isClone,isPrev:m.value,isNext:d.value,isSliding:i.value,isVisible:l.value}))}}});const Je={__name:"DialogGallery",props:{images:{type:Array,required:!0}},setup(e,{expose:n}){const t=s(!1),o=s(0);return n({open:i=>{o.value=i,t.value=!0}}),(i,u)=>{const m=ie("v-img"),d=ie("v-dialog");return y(),D(d,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=l=>t.value=l),width:"60%",opacity:.6},{default:M(()=>[R(N(Oe),{"model-value":o.value},{addons:M(()=>[e.images.length>1?(y(),D(N(je),{key:0})):oe("",!0)]),default:M(()=>[(y(!0),H(W,null,re(e.images,(l,p)=>(y(),D(N(ve),{key:p},{default:M(()=>[R(m,{src:i.$media.image(l),cover:"",class:"rounded-md"},null,8,["src"])]),_:2},1024))),128))]),_:1},8,["model-value"])]),_:1},8,["modelValue"])}}},Ke={class:"mb-2"},Ze={__name:"PartScreenshots",props:{title:{type:Object,required:!0}},setup(e){const n=s(null);return(t,o)=>{const r=ie("v-img"),i=Re("ripple");return y(),H("div",null,[le("div",Ke,[o[0]||(o[0]=le("span",{class:"text-xl font-medium mr-1"},"Скриншоты",-1)),le("span",null,"("+Pe(e.title.screenshots.length)+")",1)]),R(N(Oe),{itemsToShow:e.title.screenshots.length>3?3.25:3},{addons:M(()=>[e.title.screenshots.length>3?(y(),D(N(je),{key:0})):oe("",!0)]),default:M(()=>[(y(!0),H(W,null,re(e.title.screenshots,(u,m)=>$e((y(),D(N(ve),{key:m,class:"px-1 cursor-pointer",onClick:()=>n.value.open(m)},{default:M(()=>[R(r,{src:t.$media.image(u),cover:"",class:"rounded-md"},null,8,["src"])]),_:2},1032,["onClick"])),[[i]])),128)),e.title.screenshots.length<3?(y(!0),H(W,{key:0},re(3-e.title.screenshots.length,u=>(y(),D(N(ve),{key:u}))),128)):oe("",!0)]),_:1},8,["itemsToShow"]),R(Je,{ref_key:"dialogGallery",ref:n,images:e.title.screenshots},null,8,["images"])])}}};export{Ze as default};
